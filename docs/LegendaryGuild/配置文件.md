# 配置文件

::: details config.yml 主配置文件

```js

language: lang_CN
#是否开启群组服模式 （用于同步发送消息到各子服）
Bungeecord:
  #是否开启
  enable: false
  #该服务端的名字
  server: 主城
  #启用的服务端名称 对应着Bungeecord的config内的名称
  #只有在该列表的服务端下的玩家才会被插件读取到
  #比如我有三个服务端 ： 主城，小游戏，生存
  #然后我设置 enable_servers:
  #          - '主城'
  #          - '生存'
  #那么当 玩家Gyzer 在主城/生存服时候，他所在的公会被解散或是其他一些群体消息将被被接受到
  #如果 Gyzer 在小游戏服内 则不会被接受到，也就是说插件将判顶他为不在线。
  enable_servers:
    - '主城'
    - '登入服'
#插件数据存储方式
store:
  #Yaml / Mysql 默认 Yaml
  mode: Yaml
  #玩家数据、公会排行数据更新自动保存间隔。秒为单位
  updata: 600
Mysql:
  address: localhost
  port: 3306
  database: test
  user: root
  password: 123456
HikariCP:
  connectionTimeout: 30000
  #连接超时时间 默认值：30000（30秒）
  minimumIdle: 10
  #最小空闲连接数
  maximumPoolSize: 50
  #池允许达到的最大大小，包括空闲和正在使用的连接
#公会创建设置
create_guild:
  settings:
    #公会名称最大限制
    max-length: 6
    #退出、被踢出、解散公会后再次进入或创建一个公会的冷却时间。
    #分钟为单位
    cooldown: 240
  #不同权限创建公会的花费不同
  permission:
    #权限名称 你需要给玩家 ‘Legendaryguild.create.permission.vip’
    "vip":
      #权重 数值越小越先检测 每个权重值不可重复
      weight: 1
      #需求列表
      #[vault]vaule (need "Vault" plugin)
      #[points]vaule (need "PlayerPoints" plugin)
      #[customItem]Item display name;amount
      #[vanilla]material;data;amount
      require:
        - '[vault]1000'
        - '[vanilla]DIAMOND;0;32'
    "svip":
      weight: 0
      require:
        - '[vault]1000'
        - '[vanilla]DIAMOND;0;32'
  #默认
  default:
    require:
      - '[vault]5000'
      - '[vanilla]DIAMMOND;0;64'
settings:
  attr:
    # AP: AttributPlus3.0 / Sx: Sx2.0
    plugin: AP
  guild:
    #每捐赠1游戏币获得多少点贡献
    moneyToPoints: 0.1
    level:
      #最高等级
      max: 5
      #每级需要的经验
      require: [1000.0,5000.0,10000.0,50000.0,100000.0]
      #每级最大人数
      maxmembers: [5,10,15,20,25]
    #公会神树相关
    tree:
      #等级
      level:
        #最大等级
        max: 5
        #每级需要的成长值
        requireExp: [ 1000.0,5000.0,10000.0,50000.0,100000.0 ]
        #每级升级需要的花费
        #见wiki 价格大全
        price:
          0:
            - '[guild_money]3000'
          1:
            - '[guild_money]5000'
          2:
            - '[guild_money]10000'
          3:
            - '[guild_money]15000'
          4:
            - '[guild_money]20000'
      #神树许愿设置
      wish:
        #0 级时候许愿执行
        0:
          # %player% 为玩家名称
          #[player]指令 以玩家执行
          #[op]xx 以OP权限执行
          #[console]xx 从后台执行
          #[message]xx 向玩家发送消息
          #[title]xx;xx 向玩家发送标题
          #在最后面添加 ~chance:几率 代表有指定几率执行该行命令
          run:
            - '[player]say 我完成了每日许愿'
            - '[console]money give %player% 50'
            - '[console]money give %player% 50 ~chance:0.1'
        1:
          run:
            - '[player]say 我完成了每日许愿'
            - '[console]money give %player% 150'
            - '[console]money give %player% 50 ~chance:0.1'
        2:
          run:
            - '[player]say 我完成了每日许愿'
            - '[console]money give %player% 250'
            - '[console]money give %player% 50 ~chance:0.1'
        3:
          run:
            - '[player]say 我完成了每日许愿'
            - '[console]money give %player% 350'
            - '[console]money give %player% 50 ~chance:0.1'
        4:
          run:
            - '[player]say 我完成了每日许愿'
            - '[console]money give %player% 450'
            - '[console]money give %player% 50 ~chance:0.1'
        5:
          run:
            - '[player]say 我完成了每日许愿'
            - '[console]money give %player% 550'
            - '[console]money give %player% 50 ~chance:0.1'
  #公会贡献堂相关
  pointshop:
    #上架的物品被购买后 卖家是否可以获得与价格相等的贡献点
    getpoints: false
    #可在贡献堂上架物品的职位
    position:
      - '会长'
    #禁止上架物品 检测名称
    blacklist_named:
      - '&c主菜单'
    #物品lore含有下方lore则无法上架
    blacklist_lore:
      - '&f测试lore'
    #禁止上架物品 检测物品id
    blacklist_type:
      - TNT
  chat:
    # 服务器内安装的聊天插件
    # NULL 为无 / TrChat
    plugin: NULL
    #支持PlaceholderAPI变量
    format: '&f[&e公会聊天&f] %postion% &7%player% : %message%'
  home:
    #禁止设置公会驻地的世界
    ban_world:
      - test
    #禁止设置公会驻地的服务器
    ban_server:
      - 测试服务器
```

:::

::: details WaterPots.yml 神树水壶自定义配置

```js
pots:
  #水壶ID，不可重复
  #按格式向下继续添加
  水壶1:
    item:
      display: '&3破损的水壶'
      material: BUCKET
      data: 0
      model: 0
      #%use% 为今日该水壶使用次数
      lore:
        - '&f '
        - '&7价格: &a免费'
        - '&7神树成长值: &a1点'
        - '&f'
        - '&c该水壶每日限用 &a%use%/3 &c次.'
    #见wiki 限制大全
    limit: []
    #见wiki 价格大全
    #留空则免费
    price: []
    #每日使用次数
    # -1为无限
    day: 3
    #增加的神树家园
    addExp: 1.0
  水壶2:
    item:
      display: '&3破损的水壶'
      material: WATER_BUCKET
      data: 0
      model: 0
      #%use% 为今日该水壶使用次数
      lore:
        - '&f '
        - '&7价格: &a1000 游戏币'
        - '&7神树成长值: &a5点'
        - '&f'
        - '&c该水壶每日限用 &a%use%/10 &c次.'
    #见wiki 限制大全
    limit: []
    #见wiki 价格大全
    #留空则免费
    price:
      - '[money]1000'
    #每日使用次数
    # -1为无限
    day: 10
    #增加的神树家园
    addExp: 5.0
```

:::


::: details GuildShop.yml 公会商店商品配置

```js
items:
  #商品ID，不可重复
  #按格式向下无限添加
  shop1:
    display: '商品1'
    material: STONE
    amount: 1
    data: 0
    model: 0
    lore:
      - '&f'
      - '&f商品内容:'
      - '&f &7- 游戏币 ×50'
      - ''
      - '&f价格: &a100贡献点'
      - '&f当前可用贡献点为: &a%points%'
      #%limit%为限购提示，若该商品没有限购则不显示
      - '%limit%'
    #价格
    price:
      - '[points]100'
    #条件
    limit: []
    #命令组
    run:
      - '[console]money give %player% 50'
    #限购相关
    #buy_limit:
    #  类型列表 —— once：终身限购 day：每日限购 week：每周限购 month：每月限购
    #  type: once
    #  限购数量
    #  amount: 5
```

:::

::: details GuildBuff.yml 公会Buff配置

```js
#属性插件 可选 AP3 / AP2 / SX3
plugin: AP3
buffs:
  buff1:
    name: '&e群体攻击BUFF'
    display: '&e群体攻击加成 &f(%level%/5)'
    material: NETHER_STAR
    amount: 1
    data: 0
    model: 0
    #最高等级
    max: 5
    attr:
      0:
        lore:
         - ' '
         - '&f可为全体成员带来 &c攻击力 &f加成'
         - ''
         - '&e当前级别属性加成:'
         - '&7 &7 - 攻击力 +0'
         - '&e下一级属性加成:'
         - '&7 &7 - 攻击力 +5'
         - ''
         - '&e升级花费:'
         - '&7 &7 公会资金 ×1000'
         - '&f[ &b点击升级 &f]'
        attr:
          - '&f攻击力 +0'
        price: []
        limit: []
      1:
        lore:
          - ' '
          - '&f可为全体成员带来 &c攻击力 &f加成'
          - ''
          - '&e当前级别属性加成:'
          - '&7 &7 - 攻击力 +5'
          - '&e下一级属性加成:'
          - '&7 &7 - 攻击力 +15'
          - ''
          - '&e升级花费:'
          - '&7 &7 公会资金 ×5000'
          - '&f[ &b点击升级 &f]'
        attr:
          - '&f攻击力 +5'
        price:
          - '[guild_money]1000'
        limit: []
      2:
        lore:
          - ' '
          - '&f可为全体成员带来 &c攻击力 &f加成'
          - ''
          - '&e当前级别属性加成:'
          - '&7 &7 - 攻击力 +15'
          - '&e下一级属性加成:'
          - '&7 &7 - 攻击力 +25'
          - ''
          - '&e升级花费:'
          - '&7 &7 公会资金 ×10000'
          - '&f[ &b点击升级 &f]'
        attr:
          - '&f攻击力 +15'
        price:
          - '[guild_money]5000'
        limit: []
      3:
        lore:
          - ' '
          - '&f可为全体成员带来 &c攻击力 &f加成'
          - ''
          - '&e当前级别属性加成:'
          - '&7 &7 - 攻击力 +25'
          - '&e下一级属性加成:'
          - '&7 &7 - 攻击力 +50'
          - ''
          - '&e升级花费:'
          - '&7 &7 公会资金 ×20000'
          - '&f[ &b点击升级 &f]'
        attr:
          - '&f攻击力 +25'
        price:
          - '[guild_money]10000'
        limit: []
      4:
        lore:
          - ' '
          - '&f可为全体成员带来 &c攻击力 &f加成'
          - ''
          - '&e当前级别属性加成:'
          - '&7 &7 - 攻击力 +50'
          - '&e下一级属性加成:'
          - '&7 &7 - 攻击力 +100'
          - ''
          - '&e升级花费:'
          - '&7 &7 公会资金 ×50000'
          - '&f[ &b点击升级 &f]'
        attr:
          - '&f攻击力 +50'
        price:
          - '[guild_money]20000'
        limit: []
      5:
        lore:
          - ' '
          - '&f可为全体成员带来 &c攻击力 &f加成'
          - ''
          - '&e当前级别属性加成:'
          - '&7 &7 - 攻击力 +100'
          - ''
        attr:
          - '&f攻击力 +100'
        price:
          - '[guild_money]50000'
        limit: []
```

:::

::: details IconShop.yml 公会图标商店配置

```js
#可以购买/更改公会图标的职位
position:
  - '会长'
icons:
  普通图标1:
    material: COAL
    data: 0
    model: 0
    display: '&f煤炭 &e[公会图标]'
    lore:
      - '&f'
      - '&7很廉价的一个公会图标'
      - ''
      - '&7&m------------------'
      - '&f价格: &b500 公会资金'
    # 本插件内所有涉及到 price的节点配置都可以如下
    # [guild_money]数量 —— 消费公会资金
    # [points]数量 —— 消费玩家的可用公会贡献点
    # [money]数量 —— 消费正在操作的玩家的游戏币 （Vault）
    # [playerpoints]数量 —— 消费正在操作的玩家的点券 (PlayerPoints)
    # [default_item]ID;DATA;数量 —— 消耗指定原版物品
    # [custom_item]名称;数量 —— 消耗特殊名称的物品
    price:
      - '[guild_money]500'
    # 本插件内所有涉及到 limit 的节点配置都可以如下
    # [total_points]数量 —— 玩家总贡献点是否达到要求
    # [guild_level]等级 —— 公会等级要求
    # [guild_member]数量 —— 公会人数要求
    # [guild_treelevel]数量 —— 公会神树等级要求

    # [has_tree_water_today]浇水壶ID;数量 —— 检测玩家今日是否使用指定ID浇水水壶为神树浇水指定次数
    # [has_tree_water]浇水壶ID;数量 —— 检测玩家否使用指定ID浇水水壶为神树浇水指定次数
    limit: []
  普通图标2:
    material: IRON_INGOT
    data: 0
    model: 0
    display: '&f铁锭 &e[公会图标]'
    lore:
      - '&f'
      - '&7很廉价的一个公会图标'
      - ''
      - '&7&m------------------'
      - '&f价格: &b500 公会资金'
    price:
      - '[guild_money]500'
    limit: []
  稀有图标1:
    material: DIAMOND
    data: 0
    model: 0
    display: '&f钻石 &e[公会图标]'
    lore:
      - '&f'
      - '&7比较好的一个公会图标'
      - ''
      - '&7&m------------------'
      - '&f价格: &b5000 公会资金'
      - '&f公会等级: &b2级'
    price:
      - '[guild_money]5000'
    limit:
      - '[guild_level]2'
```

:::


::: details Positions.yml 公会职位配置

```js
#当玩家加入某个公会时候默认的职位
default: 普通成员
positions:
  #注意，该ID为会长专属ID 不可更改 不可删去 否则创建公会将出现错误！
  会长:
    require: []
    display: '&6会长'
  #职位ID
  普通成员:
    #晋升到该职位条件
    points: 0
    #游戏内展示的名称
    display: '&f普通成员'
    #增加的属性 （需在config.yml中选择 属性插件）
    attr: []
  精英成员:
    #当总贡献点达到该值将自动晋升
    points: 500
    display: '&a普通成员'
    attr:
      - '&f > 攻击力 +5'
  长老:
    points: 5000
    display: '&e长老'
    attr:
      - '&f > 攻击力 +20'
```

:::

::: details Tributes.yml 宝物贡献配置

```js
tributes:
  #自定义名称物品示例
  #按格式向下无限添加
  #ID,不可重复
  宝物1:
    display: '&c西域宝物'
    #获得贡献点
    points: 50
    #获得公会经验
    exp: 5
    #是否进行公会内播报
    broad: true
    broad_message: '&a公会成员 &f%player% &a贡献了 &c西域宝物 ×%amount%'
  #原版物品示例
  宝物2:
    material: NETHER_STAR
    data: 0
    points: 100
    exp: 10
    broad: true
    broad_message: '&a公会成员 &f%player% &a贡献了 &e下届之星 ×%amount%'
```

:::

## Gui文件夹

该目录下文件为GUI界面配置，简单易懂 :smile:

## 数据缓存文件 （当存储方式为Yaml时候会在LegendaryGuild文件夹生成）

pointshop.yml #贡献堂数据缓存

GuildShopData.yml #公会商店限售数据缓存

Data文件夹 #玩家数据缓存